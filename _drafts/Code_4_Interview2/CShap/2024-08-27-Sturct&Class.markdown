---
layout: post
title: "C# 기술면접 인터뷰2 - 구조체 vs 클래스"
date: 2024-08-27 09:00:00 +09:00
image: https://drive.google.com/thumbnail?id=1rp0VYLywCUvzSLHJW9-MqWou6BHGr98A
toc: true
categories: [CShap]
keywords: 기술 면접, 구조체, 클래스
addsence: false
lastmod: 2024-08-27 09:00:00 +09:00
sitemap: 
  changefreq : daily
  priority : 1.0
excerpt: 기술면접에 나오는 단골 문제를 작성하고 있습니다. 구조체와 클래스의 메모리 할당 방식을 이야기하고 있습니다.
related_links:
  - url: /cshap/Array&List.html
---

너무 쉼으로서 애매하게 알고 있어서 대답 못한 내용입니다. 
이게 언어마다 차이점이 존재합니다. 언어별로 정리하지 않으면 면접가서 계속 머리속에 모든 언어의 특징들이 생각날 수 있으니 주의 하셔야합니다.

<br>
<br>


## 1. 출제의 의도

C#에서 구조체와 클래스 차이를 인진하는 것은 메모리 생각의 시작점 입니다. 이 문제는 사실 구조체와 클래스에 관한 문제가아니고 메모리를 어떻게 사용할 것인지에 관한 문제입니다. 

<br>
<br>

## 2. 정답

1. 차이점(★이부분 키워드 외우면됨)
- C# 구조체는 값 타입이고, 클래스는 참조 타입입니다. 이 차이는 메모리 할당 방식과 관리 방식에 영향을 미칩니다. 구조체는 스택(Stack)에 저장되고, 클래스는 힙(Heap)에 저장됩니다.
- C# 에서 구조체는 가벼운 데이터를 다룰 때 사용되며, 할당과 해제가 빠릅니다. 반면, 클래스는 복잡한 데이터 구조나 상태를 다룰 때 유용합니다.
- C#에서 구조체는 일반적으로 설계할때 불변으로 설계하고, 클래스는 변경가능한 상태로 설계를 합니다.

<br>
<br>

## 3. 이 질문에 대한 나의 생각

다른 블로그나 사이트에서 해당 문제를 찾아보면 상속에 관한 이야기를 하고 있습니다. 상속에 관한 이야기를 뺀 이유는 구조체 코드를 작성해보면 구조체가 상속을 못 사용하는건 아닙니다. 따라서 제가 생각하기에는 상속을 답변으로 제시하는건 올바르지 않다고 생각했습니다. 

<br>

### 1) 내가 왜 이 문항을 말을 못하는가?

제 문제점중 하나는 이런 문제들을 들으면 뭔가 반골기질이 일어납니다. 제가 대학교때 이론을 못보는 이유중 하나는 물리학시험 시간에 나오면 공기저항, 마찰력 이런걸 이야기 했습니다. 동적할당을 하면 구조체도 힙에 올라갈수 있습니다. 여기서 부터가 이제 크나큰 에러를 만들 수 있습니다. 구조체는 불변으로 설계하지만 동적할당을하면 힙으로 올라갈수 있고 변경가능한 상태로 설계도 얼마든지 할수 있기 때문입니다. 이런 류의 정답들은 틀에 박힌 사고이고, 단순히 면접을 보기위해서 외우는 것밖에 안된다고 생각했습니다. 예전에는 외부에서 어떤 방식을 바라보건 마이웨이 였지만, 요즘 들어서는 신경이 많이 쓰이긴 합니다. 그럼 앞으로 이런 문제에서 이야기할 정답에 대해서 작성해보겠습니다.

<br>

### 2) 이제 앞으로의 나의 답

구조체와 클래스의 차의점은 메모리 할당 방식에 차이가 있습니다. 구조체는 스택영역에 클래스는 힙영역에 올라갑니다. 또한 구조체는 가변운 데이터 구조와 설계할 때 정적인 항목들을로 설계를 하며, 클래스는 복잡한 데이터 구조와 설계할때 동적인 항목들로 설계를 합니다.